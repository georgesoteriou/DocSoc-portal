include ./layout.pug
.sponsor
  nav.header.navbar
    .container-fluid
      h1.col-8 Hello there, #{name}
      .col-2
        button.btn-primary.btn-lg.account Account
      .col-2
        form(method="post" action="/logout")
          button.btn-primary.btn-lg(type='submit') Logout        
  if error
    .alert.alert-danger(role="alert") 
      strong oh snap! 
      | #{error}
  //- .container.add-post.bg
  //-   form(method="post" action="/sponsor/add-post")
  //-     br
  //-     h1.row.col Add New Post:
  //-     .form-group.row
  //-       label.col-2(for="name") Name: 
  //-       input.col-9(type="text", name="name")
  //-     .form-group.row
  //-       label.col-2(for="info") Info: 
  //-       input.col-9(type="text", name="info")
  //-     .row.justify-content-center
  //-       button.btn.btn-primary.btn-lg.col-10(type='submit') Add
  //-     br
  .container.add-position.bg
    form(method="post" action="/sponsor/add-position")
      br
      h1.row.col Add New Position:
      .form-group.row
        label.col-2(for="name") Name: 
        input.col-9(type="text", name="name")
      .form-group.row
        label.col-2(for="info") Info: 
        input.col-9(type="text", name="info")
      .row.justify-content-center
        button.btn.btn-primary.btn-lg.col-10(type='submit') Add
      br
  .container
    h1.row.col Your Positons:
    for position in positions
      .row.col
        .container.position
          .row.top-margin
            h2.col-4 Name: #{position.name}
            br
            h3.col-6 Info: #{position.info}
            br
            form.col-1(action="/sponsor/remove-position/" + position.name method="post")
              button.btn.btn-outline-light(type='submit')
                span.octicon.octicon-trashcan
          .row
            .cvs.container
              h3.row.col DoCSoc Member CVs:
              for user in position.users
                .row
                  .cv.container
                    .row
                      .col-lg-5.col-sm-11 Name: #{user.FirstName + ' ' + user.Surname}
                      .col-lg-6.col-sm-11 Email: #{user.email}
                      .col-1.full-width 
                        form(action="/sponsor/sponsor-show-cv/" + user.username + "/" + user.cv method="post")
                          button.btn.btn-outline-light.full-width(type='submit')
                            span.octicon.octicon-eye
      br
  .account-settings.d-none
    h1 Account Settings:
    .name
      form(method="post" action="/sponsor/change-name")
        label.col-5(for="name") 
          h2 Name: 
        input.col-5(value=name, type="text", placeholder=name, name="name")
        button.col-2.btn.btn-outline-light(type='submit')
          span.octicon.octicon-check
    //- .username
    //-   form(method="post" action="/change-username")
    //-     label.col-5(for="username") 
    //-       h2 Username: 
    //-     input.col-6(value=username, type="text", placeholder=username, name="username")
    //-     button.col-1.btn.btn-outline-light(type='submit')
    //-       span.octicon.octicon-check
    .pass
      form(method="post" action="/sponsor/change-password")
        .container
          label
            h2 Password: 
          .row.mr-md-auto.container-fluid
            label.col-lg-5.col-sm-12(for="pass1") Old Password:
            input.col-lg-7.col-sm-12(type="password", name="oldpass") 
          br 
          .row.mr-md-auto.container-fluid
            label.col-lg-5.col-sm-12(for="pass1") New Password:
            input.col-lg-7.col-sm-12(type="password", name="pass1")
          br
          .row.mr-md-auto.container-fluid
            label.col-lg-5.col-sm-12(for="pass1") Retype new Password:
            input.col-lg-7.col-sm-12(type="password", name="pass2")
          br
          button.col-lg-2.col-sm-5.btn.btn-outline-light(type='submit')
            span.octicon.octicon-check
    br
    button.btn-primary.btn-lg.account.col-3 Close